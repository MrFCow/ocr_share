(this.webpackJsonpocr_share=this.webpackJsonpocr_share||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),o=n.n(c),l=n(15),i=n(4),s=n(3),u=n.n(s),d=n(27),g=n(30),h=n(9),m=n(29),b=Object(h.a)({root:{width:320,height:320,display:"flex",justifyContent:"center",alignItems:"center",touchAction:"none"},box:{backgroundColor:"rgba(0,155,0,0.5)"}}),f=Object(m.createWorker)({logger:function(e){return console.log(e)}}),p=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.load();case 2:return e.next=4,f.loadLanguage("eng");case 4:return e.next=6,f.initialize("eng");case 6:return e.next=8,f.recognize(t,{rectangle:{top:Math.min(n.startY,n.endY),left:Math.min(n.startX,n.endX),width:Math.abs(n.endX-n.startX),height:Math.abs(n.endY-n.startY)}});case 8:return a=e.sent,r=a.data.text,console.log("OCR text: ".concat(r)),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function j(e){var t=b();console.log(e);var n=Object(a.useState)({startX:0,startY:0,endX:0,endY:0}),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(g.a)((function(e){e.down;var t=Object(i.a)(e.movement,2),n=t[0],a=t[1],r=Object(i.a)(e.offset,2),c=(r[0],r[1],Object(i.a)(e.initial,2)),u=c[0],d=c[1];s(Object(l.a)(Object(l.a)({},o),{},{startX:u,startY:d,endX:u+n,endY:d+a}))}),{delay:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({className:t.root},u()),(o.startX-o.endX)*(o.startY-o.endY)>0?r.a.createElement("div",{className:t.box,style:{position:"fixed",width:Math.abs(o.startX-o.endX),height:Math.abs(o.startY-o.endY),left:Math.min(o.startX,o.endX),top:Math.min(o.startY,o.endY)},onClick:function(){e.img?p(e.img,o):console.log("image not available")}}):null))}var v=n(31),O=n.n(v),E=Object(h.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},button:{marginTop:5}}),C={width:320,height:320,facingMode:"environment"};function X(e){var t=E(),n=Object(a.useState)(null),c=Object(i.a)(n,2),o=c[0],l=c[1],s=Object(a.useRef)(null),u=Object(a.useCallback)((function(){var e=s.current.getScreenshot();l(e)}),[s]);return r.a.createElement("div",{className:t.root},o?r.a.createElement("div",{style:{width:320,height:320,background:"url(".concat(o,")")}},r.a.cloneElement(e.children,{img:o})):r.a.createElement(O.a,{audio:!1,height:320,ref:s,screenshotFormat:"image/jpeg",width:320,videoConstraints:C}),r.a.createElement("span",null,r.a.createElement("button",{className:t.button,onClick:u},"Capture photo"),r.a.createElement("button",{className:t.button,onClick:function(){return l(null)}},"Clear")))}var Y=function(){return r.a.createElement(X,null,r.a.createElement(j,null))},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),x()}},[[72,1,2]]]);
//# sourceMappingURL=main.2a1527c0.chunk.js.map